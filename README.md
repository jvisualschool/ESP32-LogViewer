# ğŸ“Ÿ ESP32 Log Viewer (Real-Time System Monitor)

ESP32-S3ì˜ ëª¨ë“  ì‹œìŠ¤í…œ ë¡œê·¸(ESP_LOG) ë° ì‹œë¦¬ì–¼ ì¶œë ¥ì„ 3.5ì¸ì¹˜ LCD í™”ë©´ì— **ì‹¤ì‹œê°„ í„°ë¯¸ë„** í˜•íƒœë¡œ ë³´ì—¬ì£¼ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.
`Serial.print` ë¿ë§Œ ì•„ë‹ˆë¼ ESP-IDF ë‚´ë¶€ì˜ ìš´ì˜ì²´ì œ ë¡œê·¸ê¹Œì§€ ëª¨ë‘ í™”ë©´ì— ì¶œë ¥ë©ë‹ˆë‹¤.

![Screenshot](screenshot.png)

## âœ¨ ì£¼ìš” ê¸°ëŠ¥ (Key Features)

### 1. ì‹¤ì‹œê°„ ë¡œê·¸ ë¦¬ë‹¤ì´ë ‰ì…˜ (Log Redirection)

- `esp_log_set_vprintf` APIë¥¼ í™œìš©í•˜ì—¬ ESP32ì˜ í‘œì¤€ ì…ì¶œë ¥ì„ ê°€ë¡œì±„ LCDë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
- ë¶€íŒ… ê³¼ì •, Wi-Fi ì—°ê²° ìƒíƒœ, ë©”ëª¨ë¦¬ í• ë‹¹ ë“± ì‹œìŠ¤í…œ ê¹Šìˆ™í•œ ê³³ì˜ ì •ë³´ë¥¼ ëˆˆìœ¼ë¡œ ì§ì ‘ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 2. í•´ì»¤ ìŠ¤íƒ€ì¼ í„°ë¯¸ë„ UI

- **Dark Mode**: ëˆˆì´ í¸ì•ˆí•œ ë¦¬ì–¼ ë¸”ë™ ë°°ê²½(0x000000).
- **Matrix Green Text**: ê°€ë…ì„±ì´ ë›°ì–´ë‚œ í˜•ê´‘ ì´ˆë¡ í°íŠ¸(0x00FF00) ì ìš©.
- **Auto Scroll**: ìƒˆë¡œìš´ ë¡œê·¸ê°€ ë„ì°©í•˜ë©´ ìë™ìœ¼ë¡œ í™”ë©´ ìµœí•˜ë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤ë©ë‹ˆë‹¤.

### 3. ê³ ì„±ëŠ¥ ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§

- **0.5ì´ˆ ê°±ì‹  ì£¼ê¸°**: 500msë§ˆë‹¤ ì‹œìŠ¤í…œ ìƒíƒœë¥¼ ê°±ì‹ í•˜ì—¬ ë©ˆì¶°ìˆëŠ” ëŠë‚Œ ì—†ì´ ìƒìƒí•œ ëª¨ë‹ˆí„°ë§ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- **ë©”ëª¨ë¦¬ ë¶„ì„**:
  - `Heap`: ì‹¤ì‹œê°„ ê°€ìš© í™ ë©”ëª¨ë¦¬
  - `Internal / PSRAM`: ë‚´ë¶€ SRAMê³¼ ì™¸ë¶€ PSRAMì˜ ì‚¬ìš©ëŸ‰ì„ ë¶„ë¦¬í•˜ì—¬ ì •ë°€ ì¶”ì .

### 4. ì•ˆì •ì„± í™•ë³´ (Stability)

- **Ring Buffer Protection**: ë¡œê·¸ í…ìŠ¤íŠ¸ê°€ 10,000ìë¥¼ ì´ˆê³¼í•˜ë©´ ìë™ìœ¼ë¡œ ì˜¤ë˜ëœ ë¡œê·¸ë¥¼ ì •ë¦¬í•˜ì—¬ ë©”ëª¨ë¦¬ ì˜¤ë²„í”Œë¡œìš°ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.
- **Thread Safety**: LVGL UI ì—…ë°ì´íŠ¸ ì‹œ Mutex Lockì„ ì‚¬ìš©í•˜ì—¬ ì¶©ëŒ ì—†ëŠ” ì•ˆì „í•œ ë Œë”ë§ì„ ë³´ì¥í•©ë‹ˆë‹¤.

---

## ğŸ› ï¸ í•˜ë“œì›¨ì–´ êµ¬ì„± (Hardware)

- **MCU**: ESP32-S3 (QSPI Interface supported)
- **Display**: 3.5" SPI/QSPI LCD (480x320 Resolution)
- **Driver Info**:
  - Controller: `AXS15231B`
  - Interface: QSPI (Quad SPI)

---

## ğŸš€ ì‚¬ìš© ë°©ë²• (How to Use)

### 1. í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜

ì´ í”„ë¡œì íŠ¸ëŠ” **LVGL** ê·¸ë˜í”½ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì˜ì¡´ì„±ì„ ê°€ì§‘ë‹ˆë‹¤.

- `lvgl` (v8.3.x ê¶Œì¥)

### 2. ì»´íŒŒì¼ ë° ì—…ë¡œë“œ (CLI)

Arduino CLIë¥¼ ì‚¬ìš©í•˜ì—¬ í„°ë¯¸ë„ì—ì„œ ë°”ë¡œ ë¹Œë“œí•˜ê³  ì—…ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì»´íŒŒì¼ (Compile):**

```bash
arduino-cli compile --fqbn esp32:esp32:esp32s3:CDCOnBoot=cdc,FlashSize=16M,PartitionScheme=app3M_fat9M_16MB,PSRAM=opi .
```

**ì—…ë¡œë“œ (Upload):**

> í¬íŠ¸(`/dev/cu.usbmodem...`)ëŠ” ë³¸ì¸ì˜ í™˜ê²½ì— ë§ê²Œ ë³€ê²½í•˜ì„¸ìš”.

```bash
arduino-cli upload -p /dev/cu.usbmodem2101 --fqbn esp32:esp32:esp32s3:CDCOnBoot=cdc,FlashSize=16M,PartitionScheme=app3M_fat9M_16MB,PSRAM=opi .
```

---

## ğŸ“ ê°œë°œì ë…¸íŠ¸ (Dev Notes)

### ë¡œê·¸ ë¦¬ë‹¤ì´ë ‰ì…˜ í•µì‹¬ ì½”ë“œ

```cpp
// ESP_LOGì˜ ë‚´ìš©ì„ ê°€ë¡œì±„ì„œ LVGL í…ìŠ¤íŠ¸ ì˜ì—­ì— ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜
extern "C" int vprintf_to_lvgl(const char *format, va_list args) {
    // ... (ì¤‘ëµ) ...
    if (bsp_display_lock(50)) { // UI ì¶©ëŒ ë°©ì§€ ë½
        lv_textarea_add_text(log_ta, buf);
        bsp_display_unlock();
    }
    return vprintf(format, args); // ì‹œë¦¬ì–¼ ì¶œë ¥ë„ ìœ ì§€
}
```

## ğŸ“œ ë¼ì´ì„ ìŠ¤

Apache-2.0
